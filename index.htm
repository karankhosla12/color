<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Refresh and Color Change</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 1s ease;
        }

        /* Flickering effect */
        .flicker {
            animation: flickerAnimation 0.2s infinite alternate;
        }

        @keyframes flickerAnimation {
            0% { background-color: white; }
            50% { background-color: #f4f4f4; }
            100% { background-color: white; }
        }

        /* Image flashing */
        #flashing-image {
            position: absolute;
            display: none;
            z-index: 10;
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>

    <img id="flashing-image" src="download (1).jpeg" alt="Flashing Image" />

    <script>
        let flickerTimeout;

        function getColorBasedOnTime() {
            let currentTime = new Date();
            let minutes = currentTime.getMinutes();
            let seconds = currentTime.getSeconds();

            // Ensure the page refresh happens exactly every 30 seconds
            if (seconds % 30 !== 0) {
                return; // Wait for the start of the next 30-second mark
            }

            // Remove any previous flicker class
            document.body.classList.remove("flicker");

            // Colors based on the system time
            if (minutes % 12 === 0) {  // Time is divisible by 12 (e.g., 7:00, 7:12, 7:24, etc.)
                document.body.style.backgroundColor = 'red';
            } else if (minutes % 12 === 2) {  // Time is 2 minutes past the hour (e.g., 7:02, 7:14, 7:26, etc.)
                document.body.style.backgroundColor = 'white';
                // Add flickering effect for white background
                document.body.classList.add("flicker");
            } else if (minutes % 12 === 4) {  // Time is 4 minutes past the hour (e.g., 7:04, 7:16, 7:28, etc.)
                document.body.style.backgroundColor = 'pink';
            } else if (minutes % 12 === 6) {  // Time is 6 minutes past the hour (e.g., 7:06, 7:18, 7:30, etc.)
                document.body.style.backgroundColor = 'purple';
            } else if (minutes % 12 === 8) {  // Time is 8 minutes past the hour (e.g., 7:08, 7:20, 7:32, etc.)
                document.body.style.backgroundColor = 'green';
            } else if (minutes % 12 === 10) {  // Time is 10 minutes past the hour (e.g., 7:10, 7:22, 7:34, etc.)
                document.body.style.backgroundColor = 'lightblue';
            } else if (minutes % 12 === 1) {  // Time is 1 minute past the hour (e.g., 7:01, 7:13, 7:25, etc.)
                document.body.style.backgroundColor = 'yellow';
            } else if (minutes % 12 === 3) {  // Time is 3 minutes past the hour (e.g., 7:03, 7:15, 7:27, etc.)
                document.body.style.backgroundColor = 'orange';
            } else if (minutes % 12 === 5) {  // Time is 5 minutes past the hour (e.g., 7:05, 7:17, 7:29, etc.)
                document.body.style.backgroundColor = 'darkblue';
            } else if (minutes % 12 === 7) {  // Time is 7 minutes past the hour (e.g., 7:07, 7:19, 7:31, etc.)
                document.body.style.backgroundColor = 'brown';
            } else if (minutes % 12 === 9) {  // Time is 9 minutes past the hour (e.g., 7:09, 7:21, 7:33, etc.)
                document.body.style.backgroundColor = 'lime';
            } else if (minutes % 12 === 11) {  // Time is 11 minutes past the hour (e.g., 7:11, 7:23, 7:35, etc.)
                document.body.style.backgroundColor = 'cyan';
            }
        }

        // Call the function to check and change the color based on system time
        function refreshAndChangeColor() {
            getColorBasedOnTime();

            // Refresh the page every 30 seconds
            setTimeout(() => {
                location.reload();  // Refresh the page
            }, 30000);  // 30 seconds in milliseconds
        }

        // Function to flash the image every 30 minutes for 15 seconds
        function flashImage() {
            let currentTime = new Date();
            let minutes = currentTime.getMinutes();

            if (minutes % 30 === 0) {  // Every 30 minutes (e.g., 7:00, 7:30, 8:00, etc.)
                let image = document.getElementById('flashing-image');
                image.style.display = 'block';  // Show the image

                // Hide the image after 15 seconds
                setTimeout(() => {
                    image.style.display = 'none';
                }, 15000);  // 15 seconds in milliseconds
            }
        }

        // Initial call to apply the color
        refreshAndChangeColor();
        flashImage();

        // Optionally, check the color change and refresh again
        setInterval(refreshAndChangeColor, 30000);  // Every 30 seconds, this will trigger color change and refresh
        setInterval(flashImage, 60000);  // Every 1 minute, check for the 30-minute mark to flash the image
    </script>

</body>
</html>
